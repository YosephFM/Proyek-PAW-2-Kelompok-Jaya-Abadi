<div class="container">
  <div class="header">
    <h1>Kursus Bahasa Inggris Jaya Abadi</h1>
    <h2>Manajemen Peserta</h2>
    <button class="btn-primary" (click)="openForm()">+ Tambah Peserta</button>
  </div>

  <div class="grid">
    <div class="card" *ngFor="let p of participants()">
      <div class="avatar">{{ getInitials(p.name) }}</div>

      <h3>{{ p.name }}</h3>
      <p>{{ p.email }}</p>

      <div class="badges">
        <span>{{ p.level }}</span>
        <span>{{ p.phone }}</span>
      </div>

      <small>{{ p.days }} Â· {{ p.time }}</small>

      <div class="actions">
        <button class="btn-secondary" (click)="openForm(p)">Edit</button>
        <button class="btn-danger" (click)="delete(p)">Hapus</button>
      </div>
    </div>
  </div>
</div>

<!-- BACKDROP -->
<div class="backdrop" *ngIf="showForm()" (click)="closeForm()"></div>

<!-- MODAL -->
<div class="custom-modal" *ngIf="showForm()">
  <h3>{{ editingId() ? 'Edit Peserta' : 'Tambah Peserta' }}</h3>

  <input placeholder="Nama"
    [value]="formData().name"
    (input)="updateForm('name', $any($event.target).value)" />

  <input placeholder="Email"
    [value]="formData().email"
    (input)="updateForm('email', $any($event.target).value)" />

  <input placeholder="No HP"
    [value]="formData().phone"
    (input)="updateForm('phone', $any($event.target).value)" />

  <select
    [value]="formData().level"
    (change)="updateForm('level', $any($event.target).value)">
    <option>Beginner</option>
    <option>Intermediate</option>
    <option>Advanced</option>
  </select>

  <input placeholder="Hari"
    [value]="formData().days"
    (input)="updateForm('days', $any($event.target).value)" />

  <input placeholder="Jam"
    [value]="formData().time"
    (input)="updateForm('time', $any($event.target).value)" />

  <div class="modal-actions">
    <button class="btn-secondary" (click)="closeForm()">Batal</button>
    <button class="btn-primary" (click)="save()">Simpan</button>
  </div>
</div>
