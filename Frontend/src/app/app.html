<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content below * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced.  * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * Delete the template below * * * * * * * * * -->
<!-- * * * * * * * to get started with your project! * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->

<style>
  /* fullscreen baseline */
  html, body, :host {
    height: 100%;
    margin: 0;
    padding: 0;
  }
  :host {
    display: block;
    min-height: 100vh;
    --safe-padding: 1.25rem;
    box-sizing: border-box;
  }

  /* layout: make main/content full screen and stretch */
  main {
    width: 100%;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: stretch;
    padding: var(--safe-padding);
    box-sizing: inherit;
    background: linear-gradient(180deg, #fafafa 0%, #ffffff 100%);
  }

  .content {
    display: flex;
    justify-content: space-between;
    width: 100%;
    max-width: 1200px;
    height: 100%;
    gap: 1rem;
    align-items: stretch;
  }

  /* divider stretches full height */
  .divider {
    width: 1px;
    background: var(--red-to-pink-to-purple-vertical-gradient);
    align-self: stretch;
  }

  /* right-side becomes a full-height column */
  .right-side {
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
    height: 100%;
    max-width: none;
  }

  /* header stays compact, list scrolls */
  .course-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 1rem;
    margin-bottom: 0.75rem;
    flex: 0 0 auto;
  }

  .controls { gap: 0.5rem; }

  /* make participants list fill remaining height and scroll */
  .participants-list {
    display: grid;
    grid-template-columns: 1fr;
    gap: 0.75rem;
    flex: 1 1 auto;
    overflow-y: auto;
    padding: 0.5rem 0.25rem;
  }

  /* two columns on wide screens */
  @media (min-width: 900px) {
    .participants-list {
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
    }
  }

  /* small screens: column layout, divider horizontal */
  @media screen and (max-width: 650px) {
    .content {
      flex-direction: column;
      width: 100%;
      height: 100%;
    }
    .divider {
      height: 1px;
      width: 100%;
      background: var(--red-to-pink-to-purple-horizontal-gradient);
      margin-block: 1rem;
    }
    .right-side { height: auto; }
    .participants-list { padding: 0; }
  }

  /* card visuals */
  .participant-card {
    display: flex;
    gap: 0.9rem;
    align-items: center;
    background: linear-gradient(180deg, #ffffff, #fbfbff);
    border-radius: 14px;
    padding: 0.9rem;
    box-shadow: 0 6px 16px rgba(12, 15, 30, 0.04);
    border: 1px solid rgba(15, 23, 42, 0.03);
    transition: transform 0.16s ease, box-shadow 0.16s ease;
  }

  .participant-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 14px 30px rgba(12, 15, 30, 0.08);
  }

  .avatar {
    width:56px;
    height:56px;
    border-radius:12px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:700;
    color:#fff;
    background: linear-gradient(135deg,#06b6d4,#7c3aed);
    flex: 0 0 56px;
    font-size:0.95rem;
    box-shadow: 0 4px 12px rgba(92, 36, 255, 0.08);
  }

  .p-meta { flex:1; min-width:0; display:flex; flex-direction:column; gap:0.28rem; }
  .p-name { font-weight:700; color:var(--gray-900); font-size:0.98rem; }
  .p-sub { font-size:0.86rem; color:var(--gray-700); display:flex; gap:0.5rem; align-items:center; flex-wrap:wrap; }

  .level-badge {
    background: color-mix(in srgb, var(--bright-blue) 9%, transparent);
    color: var(--bright-blue);
    padding: 0.18rem 0.5rem;
    border-radius: 999px;
    font-weight:600;
    font-size:0.78rem;
  }

  /* replaced progress with schedule */
  .schedule {
    font-size:0.86rem;
    color: #0f172a;
    background: rgba(6, 182, 212, 0.06);
    display:inline-block;
    padding:6px 8px;
    border-radius:10px;
    font-weight:600;
    margin-top:6px;
  }

  .p-meta .meta-sub-row { display:flex; gap:0.5rem; align-items:center; flex-wrap:wrap; }

  /* removed action buttons; keep small phone style */
  .phone { font-size:0.78rem; color:var(--gray-700); margin-top:0.15rem; }

  .p-actions { display:none; } /* keep in stylesheet but hide actions */
</style>

<main class="main">
  <div class="content">
    
    <div class="divider" role="separator" aria-label="Divider"></div>
    <div class="right-side">
      <div class="course-header">
        <div class="info">
          <h1 style="margin:0; font-size:1.25rem;">Kursus Bahasa Inggris Jaya Abadi</h1>
          <h2 style="margin:0.25rem 0 0 0; font-size:1.02rem; font-weight:600; color:#0f172a;">Daftar Peserta</h2>
        </div>

        <div class="controls" role="toolbar" aria-label="Kontrol peserta">
          <div style="display:flex;flex-direction:column;gap:2px;align-items:flex-end;margin-right:12px;">
            <div style="font-weight:700;font-size:0.95rem;">Total peserta</div>
            <div style="color:#000000;font-size:0.9rem;">4 orang</div>
          </div>

          <select class="select-level" aria-label="Filter level" style="margin-right:8px;">
            <option>Semua level</option>
            <option>Beginner</option>
            <option>Intermediate</option>
            <option>Advanced</option>
          </select>

          <button class="btn-add" title="Tambah peserta">+ Tambah</button>
          
        </div>
      </div>

      <div id="participants-list" class="participants-list" aria-live="polite">
        <!-- konten akan di-render oleh skrip -->
        <div style="color:#64748b">Memuat peserta…</div>
      </div>
    </div>
  </div>
  <script>
(function(){
  const API = 'http://localhost:3000/api/participants'; // sesuaikan jika backend di port/host lain
  const listEl = document.getElementById('participants-list');

  function initials(name){
    return (name || '').split(' ').map(n=>n[0]||'').slice(0,2).join('').toUpperCase();
  }

  function cardHtml(p){
    const bg = p._avatarBg || ''; // optional
    return `
      <article class="participant-card">
        <div class="avatar" style="${bg}">${initials(p.name)}</div>
        <div class="p-meta">
          <div class="p-name">${(p.name||'--')}</div>
          <div class="p-sub meta-sub-row">
            <span>${(p.email||'--')}</span>
            <span class="level-badge">${(p.level||'-')}</span>
          </div>
          <div class="schedule">Hari: ${(p.days||'-')} · Jam: ${(p.time||'-')}</div>
          <div class="phone">No HP: ${(p.phone||'-')}</div>
        </div>
      </article>
    `;
  }

  async function load(){
    listEl.innerHTML = '<div style="color:#64748b">Memuat peserta…</div>';
    try{
      const res = await fetch(API);
      if(!res.ok) throw new Error('HTTP ' + res.status);
      const data = await res.json();
      const arr = Array.isArray(data) ? data : (data.Peserta || data.participants || []);
      if(!arr.length){
        listEl.innerHTML = '<div style="color:#64748b">Tidak ada peserta</div>';
        return;
      }
      listEl.innerHTML = arr.map(cardHtml).join('');
    }catch(err){
      console.error(err);
      listEl.innerHTML = '<div style="color:#ff4d4f">Gagal memuat data. Periksa backend (http://localhost:3000) dan CORS.</div>';
    }
  }

  // load on start
  load();

  // expose for debugging
  window.appLoadParticipants = load;
})();
</script>
</main>

<!-- tambahkan skrip ini sebelum router-outlet / akhir file -->




<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content above * * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced.  * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * End of Placeholder  * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->


<router-outlet />
